<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
    //作业
    /* 
        闭包:抽象
            闭包的定义(五花八门):

                1.函数就是闭包 (局部变量不被外界所污染)
                2.函数可以使用函数之外定义的变量(教科书上的)
                3.匿名函数自执行==> (function(i){
                    btn[i].onclick = function(){
                        alert(i);
                        //i = null; onclick赋值一个null也是比较好的办法  释放此变量
                    }
                    btn[i].onclick = null;//释放此变量
                })(i)   某个变量不被浏览器垃圾回收机制回收
                4.  1.函数套函数
                    2.子函数引用父函数的参数或变量,并且子函数被外界所引用,这个时候父级就形成闭包环境(父级的执行栈不会被销毁)
                    3.父级的参数和参数并不会被浏览器垃圾回收机制回收
                    4.打印父级的返回值,查看scopes下有个closure,closure就是闭包.

            闭包的应用
                    存值

                    栈溢出 -> 用完变量就释放这个变量
     */
            function fn(){
                var i = 0;
                function f(){
                    i++;
                    console.log(i);
                }
                return f;
            }
            ff(); //1
            ff(); //2
            function fff(){
                var a =10;
                console.log(++a);
            }
            fff(); //11





            let ff = fn();
            console.dir(ff);
    </script>
    
</body>
</html>